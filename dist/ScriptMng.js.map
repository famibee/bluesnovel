{"version":3,"file":"ScriptMng.js","sources":["../src/sn/ScriptMng.ts"],"sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2024-2024 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {SysBase} from './SysBase';\n\n\nexport class ScriptMng {\n\tconstructor(private readonly sys: SysBase) {}\n\n\tasync load(fn: string) {\n\t\tconst res = await fetch(this.sys.arg.cur +'script/'+ fn +'.sn');\n\t\tif (! res.ok) throw `Err load fn:${fn}`;\n\t\tconst scr = await this.sys.dec(fn, await res.text());\nconsole.log(`fn:ScriptMng.ts scr:${scr.slice(0, 20)}`);\n\n\t\tconst {Stage} = await import('./Stage');\t// ここじゃないが\n\t\tconst stg = new Stage(this.sys);\n\t\tstg.init__();\n\t}\n}\n"],"names":["ScriptMng","sys","fn","res","scr","Stage"],"mappings":"AAUO,MAAMA,EAAU;AAAA,EACtB,YAA6BC,GAAc;AAAd,SAAA,MAAAA;AAAA,EAAA;AAAA,EAE7B,MAAM,KAAKC,GAAY;AAChB,UAAAC,IAAM,MAAM,MAAM,KAAK,IAAI,IAAI,MAAK,YAAWD,IAAI,KAAK;AAC9D,QAAI,CAAEC,EAAI,GAAI,OAAM,eAAeD,CAAE;AAC/B,UAAAE,IAAM,MAAM,KAAK,IAAI,IAAIF,GAAI,MAAMC,EAAI,MAAM;AACrD,YAAQ,IAAI,uBAAuBC,EAAI,MAAM,GAAG,EAAE,CAAC,EAAE;AAEnD,UAAM,EAAC,OAAAC,EAAA,IAAS,MAAM,OAAO,YAAS;AAEtC,IADY,IAAIA,EAAM,KAAK,GAAG,EAC1B,OAAO;AAAA,EAAA;AAEb;"}