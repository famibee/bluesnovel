{"version":3,"file":"web2.js","sources":["../src/ts/Memento.ts","../src/ts/SysBase.ts","../src/web.ts"],"sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2024-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nexport abstract class BaseMemento {\n\tabstract readonly\tnm: string;\t\t// 適当な名を付けて\n\tconstructor(protected readonly stt = '') {}\n\n\tabstract\trestore(): void;\t// this.stt から\n};\n\n\nexport class Caretaker {\n\t#key = '';\n\tpush(key: string) {\n\t\tthis.update = this.#update;\n\n\t\tthis.push = (key: string)=> {\n\t\t\tthis.#key = key;\n\t\t\tthis.#idxHistory = this.#aKeyHistory.push(key) -1;\n\t\t\tthis.#hScr2AState[key] = {};\n\t\t};\n\t\tthis.push(key);\n\t}\n\n\t#hScr2AState: {[key: string]: {[nm: string]: BaseMemento}}\t= {};\n\tupdate(_genMeMe: ()=> BaseMemento) {return}\n\t#update(genMeMe: ()=> BaseMemento) {\n\t\tif (this.#idxHistory < this.#aKeyHistory.length -1) return;\n\n\t\tconst m = genMeMe();\n\t\tthis.#hScr2AState[this.#key]![m.nm] = m;\nconsole.log(`fn:Memento.ts update -- key(${this.#key}) MeMe:%o`, m);\n\t}\n\n\tundo(key: string) {\nconsole.log(`fn:Memento.ts = undo key=(${key})`);\n\t\tconst h = this.#hScr2AState[key];\n\t\tif (! h) throw `undo Err key:${key}`;\n\n\t\tfor (const meme of Object.values(h)) meme.restore();\n\t}\n\n\t#aKeyHistory: string[]\t= [];\n\t#idxHistory\t= 0;\n\t// 前のキーへ移動\n\tprevKey(): boolean {\nconsole.log(`fn:Memento.ts -- beforeKey --`);\n\t\tif (this.#idxHistory <= 0) return false;\n\n\t\tthis.undo(this.#aKeyHistory[--this.#idxHistory]!);\n\t\treturn true;\n\t}\n\t// 後のキーへ移動\n\tnextKey(): boolean {\nconsole.log(`fn:Memento.ts -- afterKey --`);\n\t\tif (this.#aKeyHistory.length -1 <= this.#idxHistory) return false;\n\n\t\tthis.undo(this.#aKeyHistory[++this.#idxHistory]!);\n\t\treturn true;\n\t}\n\tisLast() {return this.#aKeyHistory.length -1 === this.#idxHistory}\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2018-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {HPlugin, IData4Vari, IFncHook, ISysBase, T_SysBaseLoadedParams} from './CmnInterface';\nimport type {IConfig, IFn2Path, ISysRoots} from './ConfigBase';\nimport type {IHTag} from './Grammar';\nimport {Caretaker} from './Memento';\n\n\n// React Developer Toolsのインストールを推されるコンソールメッセージを消す\n(window as any).__REACT_DEVTOOLS_GLOBAL_HOOK__ = {isDisabled: true};\n\ntype HSysBaseArg = {\n\tcur\t\t: string;\n\tcrypto\t: boolean;\n\tdip\t\t: string;\n}\n\nconst\tSN_ID\t= 'skynovel';\n\n\nexport class SysBase implements ISysRoots, ISysBase {\n\tconstructor(readonly hPlg: HPlugin = {}, readonly arg: HSysBaseArg) {}\n\tprotected async loaded(...[_hPlg,]: T_SysBaseLoadedParams) {\n\t\tdocument.head.insertAdjacentHTML('beforeend',\n`<style type=\"text/css\">\n\tbody {\n\t\tbackground-color: black;\n\t}\n\t:-webkit-full-screen canvas#skynovel {width: 100%; height: 100%; object-fit: contain;}\n\t:-moz-full-screen canvas#skynovel {width: 100%; height: 100%; object-fit: contain;}\n\t:full-screen canvas#skynovel {width: 100%; height: 100%; object-fit: contain;}\n</style>`);\n\n\t\tPromise.all([\n\t\t\timport('react-dom/client'),\n\t\t\timport('../components/Main'),\n\t\t\timport('./Config'),\n\t\t]).then(async ([{createRoot}, {initMain}, {Config}])=> {\n\t\t\t// React 初期表示\n\t\t\tconst cfg = await Config.generate(this);\n\t\t\tconst {oCfg: {init: {bg_color, escape}}} = cfg;\n\t\t\tdocument.body.style.backgroundColor = bg_color;\n\n\t\t\tlet he = <HTMLDivElement>document.getElementById(SN_ID);\n\t\t\tif (he) {\n\t\t\t\tconst clone_cvs = <HTMLDivElement>he.cloneNode(true);\n\t\t\t\tclone_cvs.id = SN_ID;\n\t\t\t}\n\t\t\telse {\t// 自動的に作ってくれるが、どうも appendChild に遅延があるので\n\t\t\t\the = document.createElement('div');\n\t\t\t\the.id = SN_ID;\n\t\t\t\tdocument.body.appendChild(he);\n\t\t\t}\n\n\t\t\tlet\thTag: IHTag\t= Object.create(null);\t// タグ処理辞書\n\t\t\tlet procNext\t= ()=> {};\n\t\t\tinitMain(createRoot(he), {heStage: he, sys: this, hTag, procNext: ()=> procNext(), attachTsx: (trgNext, fncs)=> {\n\t\t\t\t// Main.tsx からの初期化\n\t\t\t\thTag.title = ({text})=> {\n\t\t\t\t\tif (! text) throw '[title] textは必須です';\n\n\t\t\t\t\t// this.#main_title = text;\t//TODO: \n\t\t\t\t\t// this.titleSub(this.#main_title + this.#info_title);\n\t\t\t\t\tfncs.addTitle(text);\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tPromise.all([\n\t\t\t\t\timport('@pixi/assets'),\n\t\t\t\t\timport('@pixi/extensions'),\n\t\t\t\t\timport('./ScriptMng'),\n\t\t\t\t\timport('./Variable'),\n\t\t\t\t\timport('./PropParser'),\n\t\t\t\t]).then(async ([{Assets}, {extensions, ExtensionType}, {ScriptMng}, {Variable}, {PropParser}])=> {\n\t\t\t\t\tawait Assets.init({basePath: location.origin});\n\t\t\t\t\textensions.add({\n\t\t\t\t\t\textension: {\n\t\t\t\t\t\t\ttype: ExtensionType.LoadParser,\n\t\t\t\t\t\t\tname: 'sn-loader',\n\t\t\t\t\t\t\t//priority: LoaderParserPriority.High,\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttest: (url: string)=> url.endsWith('.sn'),\n\t\t\t\t\t\tload: (url: string)=> new Promise(async (re, rj)=> {\n\t\t\t\t\t\t\tconst res = await this.fetch(url);\n\t\t\t\t\t\t\tif (! res.ok) {rj(`sn-loader fetch err:`+ res.statusText); return}\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tre(await this.dec('sn', await res.text()));\n\t\t\t\t\t\t\t} catch (e) {rj(`sn-loader err url:${url} ${e}`)}\n\t\t\t\t\t\t}),\n\t\t\t\t\t});\n\t\t\t\t\tthis.load = url=> Assets.load(url);\n\n\t\t\t\t\t// 変数\n\t\t\t\t\tconst val = new Variable(cfg, hTag);\n\t\t\t\t\tconst prpPrs = new PropParser(val, escape ?? '\\\\');\n\n\t\t\t\t\t// ＢＧＭ・効果音\n\t\t\t\t\t// const sndMng = new SoundMng(cfg, this.#hTag, val, this(Main), this);\t//TODO: \n\n\t\t\t\t\tconst scrMng = new ScriptMng(this, hTag, trgNext, fncs, val, prpPrs);\n\t\t\t\t\tprocNext = ()=> scrMng.go();\n\n\t\t\t\t\tawait scrMng.load('title');\t// TODO: [jump]実装までの仮\n\t\t\t\t\t// await scrMng.load('main');\t// SKYNovel 開始\n\t\t\t\t\t// this.run = async ()=> {\n\t\t\t\t\t// \tconst heStage = await runSub();\n\t\t\t\t\t// \tinitMain(createRoot(heStage), {heStage, sys: this});\n\n\t\t\t\t\t// \tconst scrMng = new ScriptMng(this);\n\t\t\t\t\t// \tawait start(scrMng);\n\t\t\t\t\t// };\n\t\t\t\t});\n\t\t\t}});\n\t\t});\n\t}\n\tload = async (_url: string)=> '';\n\n\tfetch = (url: string, init?: RequestInit)=> fetch(url, init);\n\n\treadonly\t#ct\t= new Caretaker;\n\tget caretaker() {return this.#ct}\n\n\n\tcfg: IConfig;\n\tasync loadPath(hPathFn2Exts: IFn2Path, cfg: IConfig) {\n\t\tthis.cfg = cfg;\n\n\t\tconst fn = this.arg.cur +'path.json';\n\t\tconst res = await this.fetch(fn);\n\t\tif (! res.ok) throw Error(res.statusText);\n\n\t\tconst src = await res.text();\n\t\tconst oJs = JSON.parse(await this.dec(fn, src));\n\t\tfor (const [nm, v] of Object.entries(oJs)) {\n\t\t\tconst h = hPathFn2Exts[nm] = <any>v;\n\t\t\tfor (const [ext, w] of Object.entries(h)) {\n\t\t\t\tif (ext !== ':cnt') h[ext] = this.arg.cur + w;\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected\treadonly\tdata\t= {sys:{}, mark:{}, kidoku:{}};\n\tasync\tinitVal(_data: IData4Vari, _hTmp: any, _comp: (data: IData4Vari)=> void) {}\n\tflush() {\n\t\t// 立て続きの保存を回避し最短 500ms の間隔を開ける\n\t\tif (this.#tidFlush) {this.#rsvFlush = true; return}\t// 次の Timeout 時に予約\n\n\t\tthis.flushSub();\t// ひとまず即時\n\t\tthis.#tidFlush = setTimeout(()=> {\n\t\t\tthis.#tidFlush = undefined;\n\t\t\tif (! this.#rsvFlush) return;\t// 予約もないのでなにもせず通常状態に\n\n\t\t\tthis.#rsvFlush = false;\t\t\t// 次の予約を待つためリセット\n\t\t\tthis.flush();\t// 次の Timeout 後に\n\t\t}, 500);\n\t}\n\t#tidFlush\t: NodeJS.Timeout | undefined = undefined;\n\t#rsvFlush\t: boolean = false;\n\tprotected\tflushSub() {}\t//TODO: \n\n\n\tprotected async run() {}\n\n\n\t#aFncHook: IFncHook[]\t= [];\n\taddHook(fnc: IFncHook) {this.#aFncHook.push(fnc)}\n\tcallHook: IFncHook = (_type, _o)=> {};\n\n\tsend2Dbg: IFncHook = (_type, _o)=> {\n//console.log(`fn:SysBase.ts 新SND isBuf:${!(this.sk)} type:${type} o:${JSON.stringify(o)}`);\n\t\t// this.#sk?.emit('data', type, o);\t//TODO: \n\t}\n\n\n\tcopyBMFolder = (_from: number, _to: number)=> {};\t//TODO: \n\teraseBMFolder = (_place: number)=> {};\t//TODO: \n\n\n\tprotected $path_downloads\t= '';\n\tget path_downloads() {return this.$path_downloads}\n\tprotected $path_userdata\t= '';\n\tget path_userdata() {return this.$path_userdata}\n\n\treadonly dec = (_ext: string, tx: string)=> Promise.resolve(tx);\n\treadonly hash = (_str: string)=> '';\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2024-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {HPlugin, IPlugin, IPluginInitArg} from './ts/CmnInterface';\nexport type {HPlugin, IPlugin, IPluginInitArg};\n\nimport {SysBase} from './ts/SysBase';\nimport type {T_SysBaseParams} from './ts/CmnInterface';\n\nexport class SysWeb extends SysBase {\n\tconstructor(...[hPlg = {}, arg = {cur: 'prj/', crypto: false, dip: ''}]: T_SysBaseParams) {\t// DOMContentLoaded は呼び出し側でやる\n\t\tsuper(hPlg, arg);\n// console.log(`fn:web.ts line:19 hPlg:%o`, this.hPlg);\n\t\t//TODO: プラグイン\n\t\tqueueMicrotask(async ()=> this.loaded(hPlg, arg));\n\t}\n\n}\n\n// import {CmnLib, argChk_Num, argChk_Boolean} from './ts/CmnLib';\n// import {Layer} from './ts/Layer';\n// export {SysWeb, CmnLib, argChk_Num, argChk_Boolean, Layer};\n"],"names":["BaseMemento","stt","Caretaker","#key","key","#update","#idxHistory","#aKeyHistory","#hScr2AState","_genMeMe","genMeMe","m","h","meme","SN_ID","SysBase","hPlg","arg","_hPlg","n","createRoot","initMain","Config","cfg","bg_color","escape","he","clone_cvs","hTag","procNext","trgNext","fncs","text","Assets","extensions","ExtensionType","ScriptMng","Variable","PropParser","url","re","rj","res","e","val","prpPrs","scrMng","_url","init","#ct","hPathFn2Exts","fn","src","oJs","nm","v","ext","w","_data","_hTmp","_comp","#tidFlush","#rsvFlush","#aFncHook","fnc","_type","_o","_from","_to","_place","_ext","tx","_str","SysWeb"],"mappings":"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"}